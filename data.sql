DROP TABLE IF EXISTS reviews CASCADE
DROP TABLE IF EXISTS customers CASCADE
DROP TABLE IF EXISTS products CASCADE
DROP TABLE IF EXISTS orders CASCADE
DROP TABLE IF EXISTS orderitems CASCADE

CREATE TABLE customers (cno SERIAL NOT NULL PRIMARY KEY, name TEXT NOT NULL UNIQUE, password TEXT NOT NULL)

CREATE TABLE products (id SERIAL NOT NULL PRIMARY KEY, name TEXT NOT NULL UNIQUE, description TEXT, stock INT DEFAULT 0 NOT NULL CHECK (stock >= 0), price DECIMAL(10,2))

CREATE TABLE orders (id SERIAL NOT NULL PRIMARY KEY, cno INT NOT NULL REFERENCES customers (cno), orderdate DATE DEFAULT CURRENT_DATE NOT NULL, processed DATE)

CREATE TABLE orderitems (orderid INT NOT NULL REFERENCES orders (id), pos INT NOT NULL, PRIMARY KEY (orderid, pos), productid INT NOT NULL REFERENCES products (id), amount INT DEFAULT 1 NOT NULL)

CREATE TABLE reviews (cno INT NOT NULL REFERENCES customers (cno), productid INT NOT NULL REFERENCES products (id), stars INT NOT NULL CHECK (stars >= 0 AND stars <= 5), review TEXT)

INSERT INTO customers VALUES (1, 'Adrianna Elenora', 'b38fa95'),(2, 'Marcy Kelsey', '0424ac8'),(3, 'Lyric Jepson', '61626a5'),(4, 'Roselyn Braylon', '50b6455'),(5, 'Huxley Bobbi', '867f4ca'),(6, 'Cassie Shevaun', '94bbbdd'),(7, 'Louise Scout', '8087576'),(8, 'Tetty Destinee', '7050c24'),(9, 'Carol Fleurette', 'b2bf1be'),(10, 'Dione Woodrow', '6112bc7'),(11, 'Anton Arnold', '8069495'),(12, 'Sammi Monna', 'eef7a51'),(13, 'Pearl Lauraine', '26a535d'),(14, 'Phillis Averill', '77bb025'),(15, 'Aureole Kalysta', 'b1d3c70'),(16, 'Tylor Jonelle', 'e5f7ae1'),(17, 'Winthrop Isbel', '5a2f013'),(18, 'Talia Cece', 'eabe120'),(19, 'Orpha Jemma', '34ff4a8'),(20, 'Beatrix Noelene', '27c4608'),(21, 'Melany Justin', 'ce6b2f4'),(22, 'Mervyn Johnathon', 'a5048c3'),(23, 'Kaila Liliana', '1f67531'),(24, 'Zak Melvyn', '3d9c4fd')

INSERT INTO products VALUES (1, 'Tablet-PC', 'A shiny new tablet PC with a north-central positronics ultra-4 octocore CPU and 4 exabytes of RAM', 7, 19919.99),(2, 'Office-Chair', 'A really comfy office chair with 5 legs and on rolls', 3, 157.99),(3, 'Coffee-Mug', 'A Coffee Mug with a very funny message printed on it', 12, 10.99),(4, 'Antivirus-Software', 'The most advanced antivirus-software, never suffer from malware again', 54, 38.99),(5, 'GameStation VII', 'The newest game console from Aperture Science, with fun guaranteed', 8, 599.99),(6, 'Smart-TV', 'A 62" Smart-TV, stream your favorite series directly from the internet', 6, 1099.99),(7, 'E-Book-Reader', 'The flagship of all E-Book-Readers, never run out of books any more', 3, 354.99),(8, 'Beamer', 'Home-Cinema at its best, the newest beamer from market-leader Quantumlink', 9, 649.99),(9, 'Smart-Watch', 'This nifty item will help you in all areas of life and can send small electric shocks if you misbehave', 4, 254.99),(10, 'Chewing gum', 'Your favorite spearmint chewing gum, enhance your mouth smell', 15, 1.99),(11, 'Nuka-Cola', 'Need a refreshing experience? Buy Nuka-Cola!', 12, 1.59),(12, 'Donut', 'If you are craving for sweets, have a tasty Donut!', 9, 2.99),(13, 'Noodles', 'A 500g pack of spaghetti, buon appetito!', 11, 0.99)

INSERT INTO reviews VALUES (1, 2, 3, 'Chair is ok, but could be more sturdy a bit'),(1, 3, 1, NULL),(1, 4, 5, NULL),(1, 5, 2, NULL),(1, 9, 1, NULL),(1, 10, 2, NULL),(1, 13, 1, NULL),(2, 1, 2, NULL),(2, 5, 2, NULL),(2, 6, 2, NULL),(2, 8, 4, NULL),(2, 9, 2, 'Colors are pale, loud noise from the fan'),(2, 11, 3, NULL),(3, 1, 3, NULL),(3, 2, 5, NULL),(3, 3, 5, NULL),(3, 4, 1, NULL),(3, 5, 2, NULL),(3, 6, 3, NULL),(3, 7, 4, 'Love reading with my new E-Book-Reader, the background light is really useful!'),(3, 12, 5, NULL),(3, 13, 5, NULL),(4, 2, 4, NULL),(4, 4, 2, NULL),(4, 6, 4, NULL),(4, 8, 5, NULL),(4, 9, 1, NULL),(4, 11, 2, NULL),(4, 13, 1, NULL),(5, 1, 4, NULL),(5, 2, 4, NULL),(5, 5, 3, 'Coffe tastes really great from this mug!'),(5, 8, 1, NULL),(5, 10, 3, NULL),(5, 11, 3, NULL),(5, 12, 4, NULL),(5, 13, 4, NULL),(6, 2, 5, NULL),(6, 3, 5, NULL),(6, 4, 1, 'What a piece of trash, slows down the system considerably!'),(6, 5, 1, NULL),(6, 7, 3, NULL),(6, 8, 1, NULL),(6, 9, 2, NULL),(6, 10, 3, NULL),(6, 12, 4, NULL),(6, 13, 5, NULL),(7, 2, 3, NULL),(7, 6, 4, NULL),(7, 7, 5, NULL),(7, 11, 4, 'Best Cola ever! spare the bottle caps, they might be valuable in the future!'),(7, 13, 5, NULL),(8, 1, 2, NULL),(8, 2, 4, NULL),(8, 4, 5, NULL),(8, 5, 1, 'Exploded instantly when I turned it on. The dog was badly injured!'),(8, 7, 4, NULL),(8, 8, 5, NULL),(8, 9, 5, NULL),(8, 10, 2, NULL),(8, 12, 5, NULL),(8, 13, 4, NULL),(9, 1, 3, 'A sturdy and light-weight tablet, but a bit slow.'),(9, 2, 5, NULL),(9, 3, 1, NULL),(9, 4, 2, NULL),(9, 8, 5, NULL),(9, 9, 1, NULL),(9, 11, 2, NULL),(9, 12, 4, NULL),(10, 1, 3, NULL),(10, 2, 3, NULL),(10, 3, 5, NULL),(10, 4, 5, NULL),(10, 5, 3, NULL),(10, 6, 3, NULL),(10, 7, 4, 'Fine reader, good books preinstalled!'),(10, 8, 4, NULL),(10, 9, 2, NULL),(10, 11, 2, NULL),(10, 12, 4, NULL),(10, 13, 5, NULL),(11, 3, 1, 'Broke down the first time I sat on it. Rubbish!'),(11, 4, 5, NULL),(11, 5, 3, NULL),(11, 6, 2, NULL),(11, 7, 5, NULL),(11, 10, 2, NULL),(11, 11, 2, NULL),(11, 12, 5, NULL),(11, 13, 4, NULL),(12, 2, 4, 'A really good chair, an ergonomic master piece. A bit expensive, perhaps'),(12, 3, 5, NULL),(12, 4, 2, NULL),(12, 6, 3, NULL),(12, 9, 5, NULL),(12, 11, 3, NULL),(12, 12, 4, NULL),(12, 13, 4, NULL),(13, 1, 4, NULL),(13, 4, 1, NULL),(13, 7, 3, 'Solid E-Book-Reader, but a bit expensive'),(13, 8, 4, NULL),(13, 9, 1, NULL),(13, 10, 2, NULL),(13, 11, 3, NULL),(13, 12, 5, NULL),(14, 1, 4, 'Good tablet PC, perfect for surfing the internet.'),(14, 2, 4, NULL),(14, 4, 5, NULL),(14, 5, 1, NULL),(14, 7, 3, NULL),(14, 9, 1, NULL),(14, 11, 3, NULL),(14, 12, 4, 'Mmmmh, best Donuts ever! I like the raspberry most!'),(14, 13, 5, NULL),(15, 1, 4, NULL),(15, 2, 4, NULL),(15, 3, 5, NULL),(15, 4, 1, 'The software was infected with a virus! Hands off!'),(15, 6, 2, NULL),(15, 8, 5, NULL),(15, 9, 2, NULL),(15, 10, 3, NULL),(15, 12, 4, NULL),(15, 13, 4, NULL),(16, 2, 3, NULL),(16, 5, 1, NULL),(16, 7, 4, NULL),(16, 8, 4, NULL),(16, 9, 2, 'This watch is not worth its money, lousy quality!'),(16, 11, 3, NULL),(16, 12, 4, NULL),(16, 13, 4, NULL),(17, 1, 4, NULL),(17, 2, 3, NULL),(17, 3, 5, 'My favorite Mug! Also suitable for tea!'),(17, 4, 1, NULL),(17, 5, 2, NULL),(17, 6, 2, NULL),(17, 7, 4, NULL),(17, 8, 4, 'Top beamer, good contrast! Fan noise is noticeable, but still ok.'),(17, 10, 3, NULL),(17, 11, 3, NULL),(17, 12, 5, NULL),(17, 13, 1, NULL),(18, 1, 4, NULL),(18, 3, 5, NULL),(18, 4, 1, NULL),(18, 5, 2, NULL),(18, 6, 2, 'Keeps crashing all the time, wait for a bugfix release before buying!'),(18, 8, 5, NULL),(18, 10, 1, NULL),(18, 11, 2, NULL),(18, 13, 4, NULL),(19, 1, 2, NULL),(19, 2, 4, NULL),(19, 6, 3, NULL),(19, 7, 4, NULL),(19, 9, 2, NULL),(19, 10, 3, 'Tastes good, but is bland fast.'),(19, 11, 2, NULL),(19, 12, 3, 'All in all good, but one was filled with mustard!'),(19, 13, 5, NULL),(20, 3, 5, NULL),(20, 4, 5, NULL),(20, 5, 2, 'Do not buy! Instantly tries to hack your home network and convert your flat into a test chamber.'),(20, 6, 2, NULL),(20, 7, 4, NULL),(20, 8, 4, NULL),(20, 11, 4, NULL),(20, 12, 3, NULL),(21, 1, 3, NULL),(21, 2, 4, NULL),(21, 4, 2, NULL),(21, 5, 2, NULL),(21, 6, 3, 'Vivid colors, streaming works fine, but crashes from time to time'),(21, 8, 4, NULL),(21, 9, 1, NULL),(21, 13, 5, NULL),(22, 1, 4, NULL),(22, 2, 4, NULL),(22, 3, 4, NULL),(22, 4, 5, NULL),(22, 7, 5, NULL),(22, 8, 4, NULL),(22, 9, 1, 'Dangerous, shocked my wrist while driving the car, almost had an accident!'),(22, 11, 4, NULL),(22, 12, 5, NULL),(23, 1, 4, NULL),(23, 3, 1, NULL),(23, 5, 3, NULL),(23, 7, 5, NULL),(23, 8, 4, NULL),(23, 9, 1, NULL),(23, 11, 4, 'Perfect taste, even in nuclear radiation areas!'),(23, 12, 5, NULL),(23, 13, 1, NULL),(24, 2, 5, NULL),(24, 4, 2, NULL),(24, 7, 3, NULL),(24, 8, 5, NULL),(24, 9, 1, NULL),(24, 13, 4, NULL)
